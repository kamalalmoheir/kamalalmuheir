<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ALMOMAYAZ | المميز</title>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="bootstrap-5.3.8-dist/css/bootstrap.css">
  <link rel="stylesheet" href="css.css">

  <!-- أيقونات Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

  <style>
    .hidden-product {
      display: none;
    }

    /* تنسيق Toast Notification */
    .toast-notification {
      display: none;
      position: relative;
      min-width: 250px;
      margin-bottom: 10px;
      padding: 10px 15px;
      color: #fff;
      background-color: #333;
      border-radius: 5px;
      font-size: 14px;
      right: 0;
      top: 0;
      opacity: 0.9;
      transition: opacity 0.5s, transform 0.5s;
      transform: translateY(10px);
      z-index: 1050;
    }

    .toast-notification.show {
      display: block;
      transform: translateY(0);
    }

    .toast-notification i {
      margin-left: 5px;
      margin-right: 5px;
    }
  </style>
</head>

<body>

  <header>
    <div class="top-bar">
      <!-- يمكنك وضع شعار هنا, مثال: <img src="/logo/logo.png" alt="شعار المميز" style="height: 40px;"> -->
      <h1 class="logo"><i class="bi bi-shop"></i> ALMOMAYAZ</h1>
      <div class="social-icons">
        <a href="https://www.facebook.com/AlmomayazJeans/?locale=ar_AR" target="_blank" title="فيسبوك"><i
            class="bi bi-facebook"></i></a>
        <a href="https://www.instagram.com/almomayaz_/?hl=ar" target="_blank" title="انستغرام"><i
            class="bi bi-instagram"></i></a>
        <a href="https://wa.me/+967774992999" target="_blank" title="واتساب"><i class="bi bi-whatsapp"></i></a>
        <a href="shopping.html" class="cart-icon" title="سلة المشتريات"><i class="bi bi-cart3"></i></a>
      </div>
    </div>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="HOME.html">ALMOMAYAZ</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item"><a class="nav-link active" href="HOME.html"><i class="bi bi-house"></i> الرئيسية</a>
            </li>
            <li class="nav-item"><a class="nav-link" href="shopping.html"><i class="bi bi-cart"></i> سلة المشتريات</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown"><i class="bi bi-grid"></i>
                الأقسام</a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#القسم-الشمزان">الشمزان</a></li>
                <li><a class="dropdown-item" href="#البدلات">البدلات</a></li>
                <li><a class="dropdown-item" href="#المعاوز">المعاوز</a></li>
              </ul>
            </li>
          </ul>
          <form class="d-flex" onsubmit="searchProducts(event)">
            <input id="search-input" class="form-control me-2" type="search" placeholder="ابحث عن منتج...">
            <button class="btn btn-outline-light" type="submit"><i class="bi bi-search"></i></button>
          </form>
        </div>
      </div>
    </nav>
  </header>

  <main class="container my-5">

    <!-- ======= قسم الشمزان ======= -->
    <h2 id="القسم-الشمزان" class="text-center mb-4">قسم الشمزان</h2>
    <div class="row g-4 products-row" id="شمزان-row">
      <!-- سيتم ملء المنتجات هنا بواسطة JavaScript -->
    </div>
    <div class="text-center my-3">
      <button class="btn btn-outline-light show-more-btn" data-target="شمزان-row">عرض المزيد</button>
    </div>

    <!-- ======= قسم البدلات ======= -->
    <h2 id="البدلات" class="text-center my-5">البدلات الرسمية</h2>
    <div class="row g-4 products-row" id="بدلات-row">
      <!-- سيتم ملء المنتجات هنا بواسطة JavaScript -->
    </div>
    <div class="text-center my-3">
      <button class="btn btn-outline-light show-more-btn" data-target="بدلات-row">عرض المزيد</button>
    </div>

    <!-- ======= قسم المعاوز ======= -->
    <h2 id="المعاوز" class="text-center my-5">المعاوز</h2>
    <div class="row g-4 products-row" id="معاوز-row">
      <!-- سيتم ملء المنتجات هنا بواسطة JavaScript -->
    </div>
    <div class="text-center my-3">
      <button class="btn btn-outline-light show-more-btn" data-target="معاوز-row">عرض المزيد</button>
    </div>

  </main>

  <!-- Toast Notification Container -->
  <div id="toast-container" class="position-fixed bottom-0 end-0 p-3" style="z-index: 1100">
    <!-- Toasts will be appended here by JavaScript -->
  </div>

  <!-- Bootstrap JS -->
  <script src="bootstrap-5.3.8-dist/js/bootstrap.bundle.js"></script>

  <!-- السكربت الرئيسي للصفحة -->
  <script>
    // بيانات المنتجات
    const products = {
      "شمزان-row": [
        { name: "شميز كم طويل وبنطلون كتان", price: 45, img: "/img/مجلد جديد (2)/IMG-20250722-WA0010.jpg" },
        { name: "شميز كم طويل وبنطلون تركي", price: 45, img: "/img/مجلد جديد (2)/IMG-20250722-WA0012.jpg" },
        { name: "شميز نص كم وبنطلون تركي", price: 38, img: "/img/مجلد جديد (2)/IMG-20250722-WA0005.jpg" },
        { name: "قميص صيفي وبنطلون جينز", price: 30, img: "/img/مجلد جديد (2)/IMG-20250722-WA0008.jpg" },
        { name: "قميص صيفي وبنطلون جينز", price: 30, img: "/img/مجلد جديد (2)/IMG-20250722-WA0024.jpg" },
        { name: "شميز نص كم وبنطلون تركي", price: 38, img: "/img/مجلد جديد (2)/IMG-20250722-WA0019.jpg" },
        { name: "شمزان رسمي مقلم", price: 15, img: "/img/IMG-20250829-WA0099.jpg" },
        { name: "شمزان رسمي صافي", price: 15, img: "/img/مجلد جديد (3)/IMG-20250829-WA0086.jpg" },
        { name: "شمزان رسمي نص كم", price: 16, img: "/img/مجلد جديد (3)/IMG-20250829-WA0087.jpg" }
      ],
      "بدلات-row": [
        { name: "بدلة تركي ثلاث قطع", price: 175, img: "/img/بدلات/1757704394950.jpg" },
        { name: "بدلة تركي ثلاث قطع", price: 175, img: "/img/بدلات/1757704394986.jpg" },
        { name: "بدلة ايطالي", price: 200, img: "/img/بدلات/1757704395069.jpg" },
        { name: "بدلة رسمي مخشب", price: 120, img: "/img/بدلات/1757704395727.jpg" },
        { name: "بدلة رسمي مخشب", price: 120, img: "/img/بدلات/1757704395538.jpg" },
        { name: "بدلة رسمي صافي", price: 100, img: "/img/بدلات/1757704395906.jpg" },
        { name: "بدلة رسمي مخشب", price: 120, img: "/img/بدلات/1757704395599.jpg" },
        { name: "بدلة رسمي", price: 85, img: "/img/بدلات/1757704395409.jpg" },
        { name: "بدلة رسمي محبب", price: 150, img: "/img/بدلات/1757704395331.jpg" }
      ],
      "معاوز-row": [
        { name: "معوز رجالي 5 مزجات", price: 66, img: "/img/معاوز/1757706071556.jpg" },
        { name: "معوز رجالي 3 مزجات", price: 33, img: "/img/معاوز/1757706071492.jpg" },
        { name: "معوز رجالي حليسي", price: 20, img: "/img/معاوز/1757706071469.jpg" },
        { name: "معوز رجالي حليسي", price: 20, img: "/img/معاوز/1757706071469.jpg" },
      ]
    };

    let productCounter = 0;

    // دالة لإنشاء بطاقة منتج
    function createProductCard(product, isHidden = false) {
      productCounter++;
      const hiddenClass = isHidden ? 'hidden-product' : '';
      return `
        <div class="col-12 col-sm-6 col-md-4 col-lg-3 ${hiddenClass}">
          <div class="product-card">
            <div class="product-image-container">
              <img src="${product.img}" class="product-image" alt="${product.name}">
              <div class="product-overlay">
                <button class="btn overlay-btn" onclick="addToCart(this.closest('.product-card'))">
                  <i class="bi bi-cart-plus"></i> أضف للسلة
                </button>
              </div>
            </div>
            <div class="product-details">
              <div>
                <h5 class="product-title">${product.name}</h5>
                <p class="product-price" data-price="${product.price}">${product.price}$</p>
              </div>
              <div class="product-options">
                <div class="size-selector">
                  <label for="size-select-${productCounter}">المقاس</label>
                  <select class="form-select form-select-sm" id="size-select-${productCounter}">
                    <option>S</option>
                    <option>M</option>
                    <option>L</option>
                    <option>XL</option>
                  </select>
                </div>
                <div class="quantity-selector">
                  <label for="quantity-input-${productCounter}">الكمية</label>
                  <input type="number" class="form-control form-control-sm" id="quantity-input-${productCounter}" value="1" min="1" style="width: 60px;">
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    // دالة لملء أقسام المنتجات
    function populateProducts() {
      for (const sectionId in products) {
        const sectionElement = document.getElementById(sectionId);
        if (sectionElement) {
          let productsHTML = '';
          products[sectionId].forEach((product, index) => {
            productsHTML += createProductCard(product, index >= 4); // إخفاء المنتجات بعد الرابع
          });
          sectionElement.innerHTML = productsHTML;
        }
      }
    }

    // دالة إظهار تنبيه Toast
    function showToast(message) {
      const toastContainer = document.getElementById('toast-container');

      const toast = document.createElement('div');
      toast.className = 'toast-notification';
      toast.innerHTML = `<i class="bi bi-check-circle-fill"></i> ${message}`;

      toastContainer.appendChild(toast);

      // Trigger the animation to show the toast
      setTimeout(() => {
        toast.classList.add('show');
      }, 10);

      // Hide and remove the toast after 3 seconds
      setTimeout(() => {
        toast.classList.remove('show');
        // Remove the element from DOM after the fade-out animation
        toast.addEventListener('transitionend', () => toast.remove());
      }, 3000);
    }

    // دالة إضافة المنتج إلى السلة
    function addToCart(productCard) {
      const name = productCard.querySelector('.product-title').innerText;
      const price = parseFloat(productCard.querySelector('.product-price').getAttribute('data-price'));
      const size = productCard.querySelector('.form-select').value;
      const quantity = parseInt(productCard.querySelector('input[type="number"]').value);
      const img = productCard.querySelector('.product-image').src;

      const productId = name + '-' + size;
      let cart = JSON.parse(localStorage.getItem('cart')) || [];
      let existingProduct = cart.find(item => item.id === productId);

      if (existingProduct) {
        existingProduct.quantity += quantity;
      } else {
        cart.push({ id: productId, name, price, size, quantity, img });
      }

      localStorage.setItem('cart', JSON.stringify(cart));
      // استبدال alert بـ showToast
      showToast(`تمت إضافة ${name} إلى السلة!`);
    }

    // دالة البحث عن المنتجات
    function searchProducts(event) {
      event.preventDefault();
      const searchTerm = document.getElementById('search-input').value.toLowerCase().trim();
      document.querySelectorAll('.product-card').forEach(card => {
        const title = card.querySelector('.product-title').innerText.toLowerCase();
        const parentCol = card.closest('.col-12');
        if (title.includes(searchTerm)) {
          parentCol.style.display = 'block';
        } else {
          parentCol.style.display = 'none';
        }
      });
      // إخفاء أزرار "عرض المزيد" عند البحث
      document.querySelectorAll('.show-more-btn').forEach(btn => btn.style.display = 'none');
    }

    // ربط الأحداث عند تحميل الصفحة
    document.addEventListener('DOMContentLoaded', () => {
      populateProducts();

      // إظهار المزيد من المنتجات
      document.querySelectorAll('.show-more-btn').forEach(button => {
        button.addEventListener('click', () => {
          const targetRowId = button.getAttribute('data-target');
          const targetRow = document.getElementById(targetRowId);
          targetRow.querySelectorAll('.hidden-product').forEach(product => {
            product.classList.remove('hidden-product');
          });
          button.style.display = 'none';
        });
      });
    });
  </script>

</body>

</html>